- if answer.persisted?
  .row
    .answer{ id: "answer-#{answer.id}"}
      .col-xs-2
        .votes-table
          %ul
            %li= link_to "", "#", class: "fa fa-caret-up fa-3x"
            %li
              %h1 0
            %li= link_to "", "#", class: "fa fa-caret-down fa-3x"
            - if answer.best?
              %li.fa.fa-check.fa-2x.observ
      .col-xs-10
        .card.card-block
          .card-text
            
            %p= answer.body
            .attach_list
              %ul
                - answer.attachments.each do |a|
                  %li{id: "attachment-#{a.id}"}
                    .fa.fa-file-o
                    = link_to a.file.identifier, a.file.url
                    - if user_signed_in? && a.persisted? && current_user.author_of?(a.attachable)
                      = link_to "del", a, method: :delete, remote: true, class: "btn red"

        - if user_signed_in? && current_user.author_of?(answer)
          .btn-toolbar
            = link_to "Edit", '',
            class: 'edit-answer-link btn btn-sm btn-gray float-xs-right quad',
            data: { answer_id: answer.id }
            
            = simple_form_for answer, remote: true,
            html: { class:"edit-answer",id: "edit-answer-#{answer.id}"} do |f|
              = f.input :body
              = f.submit "Save", class:"btn btn-sm btn-outline-success"

            - if !answer.best?
              = link_to 'make best', answer_best_answer_path(answer), method: :patch,
              remote: true,
              class: "make-best-button btn btn-sm btn-gray quad"

            = link_to "Delete", answer, method: :delete, remote: true,
            class:"btn btn-sm btn-gray float-xs-right quad"

  %hr    


